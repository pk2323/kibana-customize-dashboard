{"remainingRequest":"C:\\Users\\Prashanth\\Desktop\\ELk\\kibana-6.2.4\\kibana-6.2.4\\node_modules\\babel-loader\\lib\\index.js??ref--6-1!C:\\Users\\Prashanth\\Desktop\\ELk\\kibana-6.2.4\\kibana-6.2.4\\src\\core_plugins\\kibana\\public\\home\\components\\tutorial\\tutorial.js","dependencies":[{"path":"C:\\Users\\Prashanth\\Desktop\\ELk\\kibana-6.2.4\\kibana-6.2.4\\src\\core_plugins\\kibana\\public\\home\\components\\tutorial\\tutorial.js","mtime":1525446234605},{"path":"C:\\Users\\Prashanth\\Desktop\\ELk\\kibana-6.2.4\\kibana-6.2.4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1493198456000},{"path":"C:\\Users\\Prashanth\\Desktop\\ELk\\kibana-6.2.4\\kibana-6.2.4\\node_modules\\babel-loader\\lib\\index.js","mtime":1503096278000}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Tutorial = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nrequire('./tutorial.less');\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _footer = require('./footer');\n\nvar _introduction = require('./introduction');\n\nvar _instruction_set = require('./instruction_set');\n\nvar _radio_button_group = require('./radio_button_group');\n\nvar _eui = require('@elastic/eui');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar INSTRUCTIONS_TYPE = {\n  ELASTIC_CLOUD: 'elasticCloud',\n  ON_PREM: 'onPrem',\n  ON_PREM_ELASTIC_CLOUD: 'onPremElasticCloud'\n};\n\nvar Tutorial = exports.Tutorial = function (_React$Component) {\n  _inherits(Tutorial, _React$Component);\n\n  function Tutorial(props) {\n    _classCallCheck(this, Tutorial);\n\n    var _this = _possibleConstructorReturn(this, (Tutorial.__proto__ || Object.getPrototypeOf(Tutorial)).call(this, props));\n\n    _this.getInstructions = function () {\n      if (!_this.state.tutorial) {\n        return { instructionSets: [] };\n      }\n\n      switch (_this.state.visibleInstructions) {\n        case INSTRUCTIONS_TYPE.ELASTIC_CLOUD:\n          return _this.state.tutorial.elasticCloud;\n        case INSTRUCTIONS_TYPE.ON_PREM:\n          return _this.state.tutorial.onPrem;\n        case INSTRUCTIONS_TYPE.ON_PREM_ELASTIC_CLOUD:\n          return _this.state.tutorial.onPremElasticCloud;\n        default:\n          throw new Error('Unhandled instruction type ' + _this.state.visibleInstructions);\n      }\n    };\n\n    _this.setParamDefaults = function () {\n      var instructions = _this.getInstructions();\n      var paramValues = {};\n      if (instructions.params) {\n        instructions.params.forEach(function (param) {\n          paramValues[param.id] = param.defaultValue;\n        });\n      }\n      _this.setState({\n        paramValues: paramValues\n      });\n    };\n\n    _this.setVisibleInstructions = function (instructionsType) {\n      _this.setState({\n        visibleInstructions: instructionsType\n      }, _this.setParamDefaults);\n    };\n\n    _this.setParameter = function (paramId, newValue) {\n      _this.setState(function (previousState) {\n        var paramValues = _lodash2.default.cloneDeep(previousState.paramValues);\n        paramValues[paramId] = newValue;\n        return { paramValues: paramValues };\n      });\n    };\n\n    _this.onPrem = function () {\n      _this.setVisibleInstructions(INSTRUCTIONS_TYPE.ON_PREM);\n    };\n\n    _this.onPremElasticCloud = function () {\n      _this.setVisibleInstructions(INSTRUCTIONS_TYPE.ON_PREM_ELASTIC_CLOUD);\n    };\n\n    _this.renderInstructionSetsToggle = function () {\n      if (!_this.props.isCloudEnabled && _this.state.tutorial.onPremElasticCloud) {\n        var radioButtons = [{ onClick: _this.onPrem, label: 'On premise', dataTestSubj: 'onPremBtn' }, { onClick: _this.onPremElasticCloud, label: 'Elastic Cloud', dataTestSubj: 'onPremElasticCloudBtn' }];\n        return _react2.default.createElement(_radio_button_group.RadioButtonGroup, {\n          buttons: radioButtons,\n          selectedBtnLabel: radioButtons[0].label\n        });\n      }\n    };\n\n    _this.renderInstructionSets = function (instructions) {\n      var offset = 1;\n      return instructions.instructionSets.map(function (instructionSet, index) {\n        var currentOffset = offset;\n        offset += instructionSet.instructionVariants[0].instructions.length;\n        return _react2.default.createElement(_instruction_set.InstructionSet, {\n          title: instructionSet.title,\n          instructionVariants: instructionSet.instructionVariants,\n          offset: currentOffset,\n          params: instructions.params,\n          paramValues: _this.state.paramValues,\n          setParameter: _this.setParameter,\n          replaceTemplateStrings: _this.props.replaceTemplateStrings,\n          key: index\n        });\n      });\n    };\n\n    _this.renderFooter = function () {\n      if (_lodash2.default.has(_this.state, 'tutorial.artifacts.dashboards')) {\n        var overviewDashboard = _this.state.tutorial.artifacts.dashboards.find(function (dashboard) {\n          return dashboard.isOverview;\n        });\n\n        return _react2.default.createElement(_footer.Footer, {\n          overviewDashboard: overviewDashboard\n        });\n      }\n    };\n\n    _this.state = {\n      notFound: false,\n      paramValues: {},\n      tutorial: null\n    };\n\n    if (props.isCloudEnabled) {\n      _this.state.visibleInstructions = INSTRUCTIONS_TYPE.ELASTIC_CLOUD;\n    } else {\n      _this.state.visibleInstructions = INSTRUCTIONS_TYPE.ON_PREM;\n    }\n    return _this;\n  }\n\n  _createClass(Tutorial, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      this._isMounted = true;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var tutorial;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.props.getTutorial(this.props.tutorialId);\n\n              case 2:\n                tutorial = _context.sent;\n\n                if (this._isMounted) {\n                  _context.next = 5;\n                  break;\n                }\n\n                return _context.abrupt('return');\n\n              case 5:\n\n                if (tutorial) {\n                  // eslint-disable-next-line react/no-did-mount-set-state\n                  this.setState({\n                    tutorial: tutorial\n                  }, this.setParamDefaults);\n                } else {\n                  // eslint-disable-next-line react/no-did-mount-set-state\n                  this.setState({\n                    notFound: true\n                  });\n                }\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _ref.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: 'render',\n    value: function render() {\n      var content = void 0;\n      if (this.state.notFound) {\n        content = _react2.default.createElement(\n          'div',\n          { className: 'homePanel' },\n          _react2.default.createElement(\n            _eui.EuiText,\n            null,\n            _react2.default.createElement(\n              'p',\n              null,\n              'Unable to find tutorial ',\n              this.props.tutorialId\n            )\n          )\n        );\n      }\n\n      if (this.state.tutorial) {\n        var previewUrl = void 0;\n        if (this.state.tutorial.previewImagePath) {\n          previewUrl = this.props.addBasePath(this.state.tutorial.previewImagePath);\n        }\n\n        var exportedFieldsUrl = void 0;\n        if (_lodash2.default.has(this.state, 'tutorial.artifacts.exportedFields')) {\n          exportedFieldsUrl = this.props.replaceTemplateStrings(this.state.tutorial.artifacts.exportedFields.documentationUrl);\n        }\n\n        var instructions = this.getInstructions();\n        content = _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(_introduction.Introduction, {\n            title: this.state.tutorial.name,\n            description: this.props.replaceTemplateStrings(this.state.tutorial.longDescription),\n            previewUrl: previewUrl,\n            exportedFieldsUrl: exportedFieldsUrl\n          }),\n          _react2.default.createElement(_eui.EuiSpacer, null),\n          _react2.default.createElement(\n            'div',\n            { className: 'text-center' },\n            this.renderInstructionSetsToggle()\n          ),\n          _react2.default.createElement(_eui.EuiSpacer, null),\n          _react2.default.createElement(\n            _eui.EuiPanel,\n            { paddingSize: 'l' },\n            this.renderInstructionSets(instructions),\n            this.renderFooter()\n          )\n        );\n      }\n      return _react2.default.createElement(\n        _eui.EuiPage,\n        { className: 'home' },\n        _react2.default.createElement(\n          _eui.EuiLink,\n          { href: '#/home' },\n          'Home'\n        ),\n        ' / ',\n        _react2.default.createElement(\n          _eui.EuiLink,\n          { href: '#/home/tutorial_directory' },\n          'Add Data'\n        ),\n        _react2.default.createElement(_eui.EuiSpacer, { size: 's' }),\n        content\n      );\n    }\n  }]);\n\n  return Tutorial;\n}(_react2.default.Component);\n\nTutorial.propTypes = {\n  addBasePath: _propTypes2.default.func.isRequired,\n  isCloudEnabled: _propTypes2.default.bool.isRequired,\n  getTutorial: _propTypes2.default.func.isRequired,\n  replaceTemplateStrings: _propTypes2.default.func.isRequired,\n  tutorialId: _propTypes2.default.string.isRequired\n};",null]}